{"version":3,"sources":["./src/app/modules/application-maintenance/application-maintenance.module.ts","./src/app/modules/application-maintenance/components/application-add/application-add.component.ts","./src/app/modules/application-maintenance/components/application-add/application-add.component.html","./src/app/modules/application-maintenance/pages/application-form/application-form.component.ts","./src/app/modules/application-maintenance/pages/application-form/application-form.component.html","./src/app/modules/application-maintenance/pages/application-list/application-list.component.ts","./src/app/modules/application-maintenance/pages/application-list/application-list.component.html"],"names":[],"mappings":"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","file":"modules-application-maintenance-application-maintenance-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ApplicationListComponent } from './pages/application-list/application-list.component';\r\nimport { ApplicationFormComponent } from './pages/application-form/application-form.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { ApplicationAddComponent } from './components/application-add/application-add.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'list',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'list',\r\n    component: ApplicationListComponent\r\n  },\r\n  {\r\n    path: 'form',\r\n    component: ApplicationFormComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ApplicationListComponent,\r\n    ApplicationFormComponent,\r\n    ApplicationAddComponent],\r\n  imports: [\r\n    SharedModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class ApplicationMaintenanceModule { }\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs';\r\nimport { create } from 'src/app/modules/application-maintenance/store/application.actions';\r\nimport { ModalService } from 'src/app/shared/services/modal.service';\r\nimport { IApplicationStore } from '../../interface/application-store.interface';\r\n\r\n@Component({\r\n  selector: 'app-application-add',\r\n  templateUrl: './application-add.component.html',\r\n  styleUrls: ['./application-add.component.scss']\r\n})\r\nexport class ApplicationAddComponent implements OnInit, OnDestroy {\r\n\r\n  subscription: Subscription[];\r\n\r\n  form: FormGroup;\r\n  showModal = false;\r\n  submitButtonText = 'Save';\r\n  modalTitle = 'Add new Application';\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private modalService: ModalService,\r\n    private store: Store<{application: IApplicationStore} >\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildForm();\r\n    this.subscription = [\r\n      this.listenModalEvent(),\r\n      // this.watchAttributeStore()\r\n    ];\r\n  }\r\n\r\n  private listenModalEvent(): Subscription{\r\n    return this.modalService.event.subscribe( (x: any) => {\r\n      if (!x.data) { return; }\r\n      if (x.data.modalId === 'APPLICATION_FORM' && x.event === 'SHOW_MODAL') {\r\n        this.showModal = x.data.value;\r\n      }\r\n    });\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.form = this.formBuilder.group({\r\n      systemId: ['', [Validators.required]],\r\n      allowMultiple: false\r\n    });\r\n  }\r\n\r\n  closeModal(): void{\r\n    this.showModal = false;\r\n    this.form.reset();\r\n    this.modalService.reset();\r\n  }\r\n\r\n  submitForm(): void {\r\n    this.form.markAllAsTouched();\r\n    if (!this.isValidForm()) {\r\n      return;\r\n    }\r\n\r\n    const form = this.form.value;\r\n    const data = {\r\n      id: new Date().getTime().toString(),\r\n      systemID: form.systemId,\r\n      allowMultiple: form.allowMultiple,\r\n      translations: form.translations\r\n    };\r\n    console.log(data);\r\n    this.store.dispatch(create({application: data}));\r\n    this.closeModal();\r\n  }\r\n\r\n  private isValidForm(): boolean {\r\n    if (this.form.invalid) {\r\n      alert('All fields are required');\r\n      return false;\r\n    }\r\n    const englishTranslationExist = this.form.value.translations.filter( x => x.language === '1');\r\n    if (englishTranslationExist.length === 0) {\r\n      alert('English Translation is required');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.forEach( x => x.unsubscribe());\r\n  }\r\n\r\n}\r\n","<app-modal\r\n    [show]=\"showModal\"\r\n    [saveBtn]=\"submitButtonText\"\r\n    [closeBtn]=\"'Cancel'\"\r\n    [title]=\"modalTitle\"\r\n    (close)=\"closeModal()\"\r\n    (submit)=\"submitForm()\"\r\n>\r\n    <form [formGroup]=\"form\" *ngIf=\"form\">\r\n        <div class=\"form-group\">\r\n            <label class=\"allowMultiple\">\r\n                Allow multiple: \r\n                <input formControlName=\"allowMultiple\" type=\"checkbox\" />            \r\n            </label>\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label>System ID:</label> \r\n            <input \r\n              formControlName=\"systemId\" type=\"text\" class=\"form-control\" \r\n              [ngClass]=\"{'is-invalid': form.controls.systemId.invalid && form.controls.systemId.touched}\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label>Description: </label>\r\n            <app-language-field [title]=\"'Description'\" [form]=\"form\" *ngIf=\"showModal\"></app-language-field> \r\n        </div>\r\n    </form>\r\n</app-modal>","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs';\r\nimport { IAttribute } from 'src/app/modules/attribute-maintenance/interface/attribute.interface';\r\nimport { LocalDataService } from 'src/app/shared/services/local-data.service';\r\nimport { IApplicationStore } from '../../interface/application-store.interface';\r\nimport { update } from '../../store/application.actions';\r\nimport { LanguageFieldService } from './../../../../shared/services/language-field.service';\r\n\r\n@Component({\r\n  selector: 'app-application-form',\r\n  templateUrl: './application-form.component.html',\r\n  styleUrls: ['./application-form.component.scss']\r\n})\r\nexport class ApplicationFormComponent implements OnInit, OnDestroy {\r\n\r\n  form: FormGroup;\r\n  toEditApplication: any;\r\n  subscription: Subscription;\r\n  attributes: IAttribute[];\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private localData: LocalDataService,\r\n    private router: Router,\r\n    private store: Store<{application: IApplicationStore}>,\r\n    private languageFieldService: LanguageFieldService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildForm();\r\n    this.toEditApplication = this.localData.get('editApplication');\r\n\r\n    if (!this.toEditApplication) {\r\n      this.subscription = this.store.select('application').subscribe( x => {\r\n        if (!x.edit) {\r\n          this.cancel();\r\n          return;\r\n        }\r\n        this.toEditApplication = x.edit;\r\n        this.localData.save('editApplication', x.edit);\r\n        this.fillFormToEdit();\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.fillFormToEdit();\r\n  }\r\n\r\n  private fillFormToEdit(): void{\r\n    this.form.patchValue({\r\n      id: this.toEditApplication.id,\r\n      systemId: this.toEditApplication.systemID,\r\n      allowMultiple: this.toEditApplication.allowMultiple\r\n    });\r\n\r\n    setTimeout( x => {\r\n      this.languageFieldService.appendCurrentTranslations(this.toEditApplication.translations, this.form);\r\n    });\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.form = this.formBuilder.group({\r\n      id: [''],\r\n      systemId: ['', [Validators.required]],\r\n      allowMultiple: false\r\n    });\r\n  }\r\n\r\n  update(): void {\r\n    const form = this.form.value;\r\n    const data = {\r\n      id: form.id,\r\n      systemID: form.systemId,\r\n      allowMultiple: form.allowMultiple,\r\n      translations: form.translations,\r\n      attributes: this.attributes\r\n    };\r\n\r\n    this.store.dispatch(\r\n      update({application: data})\r\n    );\r\n    alert('success');\r\n    this.router.navigate(['application-maintenance']);\r\n  }\r\n\r\n  onAttributeSelect(attributes: IAttribute[]): void {\r\n    this.attributes = attributes;\r\n  }\r\n\r\n  cancel(): void{\r\n    this.router.navigate(['application-maintenance']);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.localData.delete('editApplication');\r\n\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<div class=\"section\" *ngIf=\"toEditApplication\"> \r\n    <div class=\"section__head\">\r\n        <h1 class=\"section__title section__title--large\">Application Maintenance / {{ toEditApplication.systemID }}</h1>\r\n\r\n        \r\n        <div class=\"buttons\">\r\n            <button class=\"btn btn-sm btn-primary\" (click)=\"update()\">Update</button>\r\n            <button class=\"btn btn-sm btn-secondary\" (click)=\"cancel()\">Cancel</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"section__body\">      \r\n        \r\n        <form class=\"form form--flex form--inline applicationForm\" [formGroup]=\"form\">\r\n            <div class=\"form-group\">\r\n                <label>System ID:</label>\r\n                <input type=\"text\" formControlName=\"systemId\" class=\"form-control form-control-sm\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>Description:</label>\r\n                <app-language-field [title]=\"'Description'\" [form]=\"form\"></app-language-field> \r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>\r\n                    Allow Multiple:\r\n                    <input formControlName=\"allowMultiple\" type=\"checkbox\" />\r\n                </label>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n</div>\r\n\r\n<app-attributes-list [current]=\"toEditApplication.attributes\" (onchange)=\"onAttributeSelect($event)\"></app-attributes-list>","import { Component, OnDestroy, OnInit } from '@angular/core'; \r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { LocalDataService } from 'src/app/shared/services/local-data.service';\r\nimport { ModalService } from 'src/app/shared/services/modal.service';\r\nimport { IApplicationStore } from '../../interface/application-store.interface';\r\nimport { IApplication } from '../../interface/application.interface';\r\nimport { edit, remove } from '../../store/application.actions';\r\n\r\n@Component({\r\n  selector: 'app-application-list',\r\n  templateUrl: './application-list.component.html',\r\n  styleUrls: ['./application-list.component.scss']\r\n})\r\nexport class ApplicationListComponent implements OnInit, OnDestroy{\r\n\r\n  subscription: Subscription;\r\n  applications$: Observable<IApplicationStore>;\r\n\r\n  constructor(\r\n    private modalService: ModalService,\r\n    private store: Store<{application: IApplicationStore}>,\r\n    private localData: LocalDataService,\r\n    private router: Router\r\n  ) {\r\n    this.applications$ = store.select('application');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.applications$.subscribe( application => {\r\n      this.localData.save('applications', application.list);\r\n    });\r\n  }\r\n\r\n  add(): void {\r\n    this.modalService.showModal('APPLICATION_FORM', true);\r\n  }\r\n\r\n  delete(id: string): void{\r\n    const sure = confirm('Are you sure?');\r\n    if (!sure) { return; }\r\n    this.store.dispatch(remove({id}));\r\n  }\r\n\r\n  edit(app: IApplication): void {\r\n    this.store.dispatch(edit({application: app}));\r\n    this.router.navigate(['application-maintenance', 'form']);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.modalService.reset();\r\n  }\r\n}\r\n","<div class=\"section\">\r\n    <div class=\"section__head\">\r\n        <h1 class=\"section__title section__title--large\">Application Maintenance</h1>\r\n\r\n        <button class=\"btn btn-sm btn-primary attribute-heading__button\" (click)=\"add()\">Add New Application</button>\r\n    </div>\r\n    <div class=\"section__body\">      \r\n        \r\n        <table class=\"table table-sm draggable\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">System ID</th>\r\n                    <th scope=\"col\">Description</th>\r\n                    <th scope=\"col\">Allow Multiple</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let app of (applications$ | async).list\">\r\n                    <td>{{app.systemID}}</td>\r\n                    <td>{{app.translations | itranslate}}</td>\r\n                    <td>\r\n                        {{app.allowMultiple === true ? 'Yes' : 'No'}}\r\n                    </td> \r\n                    <td class=\"table__actions\">\r\n                        <a (click)=\"edit(app)\" >edit</a> | \r\n                        <a (click)=\"delete(app.id)\" >delete</a>\r\n                    </td>\r\n                </tr> \r\n            </tbody>\r\n        </table> \r\n        \r\n    </div>\r\n</div>\r\n\r\n<app-application-add></app-application-add>"],"sourceRoot":"webpack:///"}